<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator fun!</title>
    <link rel="icon" type="image/x-icon" href="../Assets/favicon-32x32.png">
    <link href="./styles.css" rel="stylesheet">
</head>
<body>
  <p>play snake</p>
    <button onclick="start()">start</button>
    <canvas id="canvas" width="500" height="300"></canvas>
</body>
</html>

<script>
function start() {
    setInterval(draw, 100);
    setInterval(keystrokes, 1);
    setInterval(startHitboxs, 5000);
}
var n = 0;
var velox = 0;
var veloy = 20;
var c = document.getElementById("canvas");
var ctx = c.getContext("2d");
ctx.fillStyle = "green";
var xpos = [10,30,30,30,50,70];
var ypos = [10,10,30,50,50,50];
var xposm = [];
var yposm = [];

function startHitboxs() {
    n = 1;
}
    
function draw() {
    ctx.clearRect(0, 0, c.width, c.height);
    xpos[0] += velox;
    ypos[0] += veloy;

    for(var i = 0;i<xpos.length;i++) {
        xposm[i] = xpos[i];
        yposm[i] = ypos[i];
    }
    for(var i = 1;i<xpos.length;i++) {
    xpos[i] = xposm[i-1];
    ypos[i] = yposm[i-1];
    ctx.fillRect(xpos[i],ypos[i],18,18);

    if(n==1) {
    for(var i = 1;i<xpos.length;i++) {
        if(xpos[0] == xpos[i] && ypos[0] == ypos[i]) {
            window.location.href = "http://club-website.pages.dev/calculator/snake.html";
        }
    }
    }
    }
}

function keystrokes() {
    document.onkeydown = function(e) { 
        switch (e.keyCode) { 
            case 37: 
                velox = -20;
                veloy = 0;
                break; 
            case 38: 
                velox = 0;
                veloy = -20;
                break; 
            case 39: 
                velox = 20;
                veloy = 0;
                break; 
            case 40: 
                velox = 0;
                veloy = 20;
                break; 
        } 
    };
}
</script>
